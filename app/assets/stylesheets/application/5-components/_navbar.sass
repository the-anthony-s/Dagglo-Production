.navbar
    position: absolute
    top: 0
    right: 0
    left: 0
    z-index: 99


.navbar-in
    position: relative
    width: 100%
    background: none


.navbar.is-open .navbar-in // on mobile collapse open
    position: fixed
    top: 0
    right: 0
    left: 0
    width: 100%
    height: 100%
    overflow-y: auto
    // background: rgba($black, .8)
    backdrop-filter: saturate(180%) blur(20px)
    background-color: rgba(29,29,31,0.9)
    transition: background-color 0.1s cubic-bezier(0.28, 0.11, 0.32, 1)
    transition-property: background-color, backdrop-filter, -webkit-backdrop-filter

.navbar-container
    display: flex
    justify-content: space-between
    align-items: center
    position: relative
    max-width: $content-width-primary
    height: var(--navbar-height)
    width: 100%
    padding-right: var(--space-content)
    padding-left: var(--space-content)
    margin-right: auto
    margin-left: auto
    z-index: 3


.navbar-left
    height: 100%
    display: flex
    align-items: center
    flex: 0 0 auto
    margin-right: var(--gap-s)


.navbar-center
    height: 100%
    display: flex
    flex-direction: column
    // align-items: center
    justify-content: center
    flex: 1 1 100%
    width: 100%


.navbar-right
    height: 100%
    display: flex
    flex-direction: column
    justify-content: center
    flex: 0 0 auto
    width: auto
    margin-left: var(--gap-s)


.navbar-desktop
    display: none
    +desktop-sm
        display: block


.navbar-mobile
    display: block
    +desktop-sm
        display: none


.navbar-root
    display: flex
    flex-direction: row
    align-items: center
    align-items: flex-end
    &-logo
        height: 32px
        width: 32px
        fill: var(--color-primary)
    &-beta
        color: var(--color-contrast-high)
        font-weight: 600
        font-size: var(--space-sm)
        line-height: var(--body-line-height)
        display: block
        margin-left: var(--space-xs)
    &:hover
        &-logo
            fill: var(--color-primary-dark)


.navbar-search
    height: calc(var(--navbar-height) - 10px)
    width: 100%
    display: flex
    flex-direction: row
    align-items: center
    position: relative
    border: 0
    border-radius: $border-radius
    box-shadow: 0
    overflow: hidden
    background: $gray-lighter
    +tablet
        max-width: 584px
        height: calc(var(--navbar-height) - 18px)
    &.is-focused
        position: absolute
        top: 0
        right: 0
        left: 0
        bottom: 0
        width: 100%
        height: var(--navbar-height)
        z-index: 101
        border-radius: 0
        border-bottom: 1px solid $color-border-dark
        // background: $gray-lighter
        +desktop-sm
            height: calc(var(--navbar-height) - 18px)
            position: relative
            border: 0
            border-radius: $border-radius

.navbar-search-input
    flex: 1 1 100%
    max-width: 100%

.navbar-search-control
    color: $color-font-primary
    font-size: var(--size-typo-s)
    font-weight: 400
    line-height: var(--line-height-typo-s)
    letter-spacing: 0.018em
    width: 100%
    height: 100%
    appearance: none
    box-shadow: none
    border: 0
    border-radius: 0
    padding: var(--gap-xs) var(--gap-s) var(--gap-xs) 0
    position: relative
    display: block
    background: transparent
    &::placeholder
        color: $color-font-secondary


.navbar-search-icon
    color: $color-font-secondary
    font-size: var(--size-typo-m)
    line-height: var(--line-height-typo-m)
    font-weight: 500
    display: flex
    align-items: center
    justify-content: center
    height: 100%
    flex: 0 0 auto
    width: auto
    border: 0
    border-radius: 0
    box-shadow: none
    background: transparent
    padding: var(--gap-xs) var(--gap-s)


.navbar-links
    display: flex
    flex-direction: row
    align-items: center
    li + li
        margin-left: var(--gap-xs)


.navbar-link
    color: var(--color-contrast-high)
    font-size: var(--text-sm)
    font-weight: 500
    line-height: var(--body-line-height)
    appearance: none
    vertical-align: baseline
    text-transform: none
    display: flex
    align-items: center
    justify-content: center
    padding: 0 var(--space-sm)
    border-radius: 24px
    height: calc(var(--navbar-height) - 20px)
    background: transparent
    & > span + span
        margin-left: var(--gap-xxs)
    &:hover
        color: var(--color-contrast-higher)
        // background: $gray-lighter

.navbar-link-icon
    color: $color-font-secondary
    font-size: var(--size-typo-l)
    font-weight: 500
    line-height: var(--line-height-typo-l)
    height: calc(var(--navbar-height) - 20px)
    width: calc(var(--navbar-height) - 20px)
    border: 0
    border-radius: 24px
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    text-align: center
    &:hover, &:focus, &:active
        color: $color-font-primary
        background: $gray-lighter


.navbar-profile
    background: transparent
    appearance: none
    box-shadow: none
    outline: none
    border: 0
    border-radius: 0
    overflow: hidden
    cursor: pointer
    &-picture
        display: block
        position: relative
        border-radius: 50%
        border: 0
        overflow: hidden
        & > img
            height: calc(var(--navbar-height) - 26px)
            width: calc(var(--navbar-height) - 26px)
            object-fit: cover
            display: block


.navbar-dropdown
    min-width: 208px
    border: 0
    border-radius: var(--radius-border)
    box-shadow: 0 0 0 1px $color-border-light, 0 8px 16px rgba(27, 39, 51, 0.08)
    position: absolute
    visibility: hidden
    opacity: 0
    z-index: 1
    background: $white
    user-select: none
    transition: 125ms all ease
    transform: translate3d(0, 0, 0)
    transform: translateY(0) scale(1)
    will-change: transform, opacity
    right: 0


.navbar-dropdown-item
    position: relative


.navbar-dropdown-item.is-open > .navbar-dropdown
    visibility: visible
    opacity: 1
    transform: translateY(5px) scale(1)


.navbar-dropdown-list
    width: 100%
    position: relative
    display: block
    &-item-separator
        border-top: 1px solid $color-border
        border-bottom: 1px solid $color-border
    &-item
        width: 100%
        position: relative
        display: block
    &-profile
        padding: var(--gap-s) var(--gap-s)


.navbar-dropdown-link
    color: $color-font-primary
    font-size: var(--size-typo-s)
    font-weight: 400
    letter-spacing: .045em
    line-height: var(--line-height-typo-s)
    vertical-align: baseline
    display: block
    padding: var(--gap-xs) var(--gap-s)
    background: transparent
    &:hover
        color: $color-font-primary
        background: $gray-lighter
    &-logout
        color: $red
        &:hover
            color: $red-dark
    & > span + span
        margin-left: var(--gap-xs)



// Mobile Hamburger
$btn-transition: .12s ease-in-out
$btn-delay: .05s

.navbar-burger
    height: var(--navbar-height)
    position: relative
    cursor: pointer
    user-select: none
    -webkit-tap-highlight-color: transparent
    z-index: 99
    &-container
        width: 18px
        height: 8px
        position: relative
        display: block
        margin: -6px auto 0
        top: 50%
        transform: rotate(0deg)
        transition: $btn-transition
        &-bar
            width: 100%
            height: 2px
            display: block
            position: relative
            background: $color-font-primary
            transtion: $btn-transition
            transition-delay: $btn-delay
            &Top
                transform: translateY(0px) rotate(0deg)
            &Btm
                transform: translateY(6px) rotate(0deg)
    &-name
        display: none
        color: $color-font-primary
        font-size: var(--size-typo-s)
        font-weight: 600
        margin-left: var(--gap-xs)
        +tablet
            display: block


.navbar-burger.is-open
    .navbar-burger-container
        transform: rotate(90deg)
    .navbar-burger-container .navbar-burger-container-bar
        transition: $btn-transition
        transition-delay: $btn-delay
        background: $color-font-primary
        &Top
            transform: translateY(4px) rotate(45deg)
        &Btm
            transform: translateY(2px) rotate(-45deg)


// Mobile collapse menu
.navbar-collapse
    position: absolute
    top: 0
    right: 0
    left: 0
    height: auto
    padding-top: var(--navbar-height)
    padding-bottom: var(--gap-r)
    pointer-events: none
    background: $white
    opacity: 0
    transform: translateY(-20px)
    transition: opacity .3s ease,transform .3s ease,-webkit-transform .3s ease
    z-index: 1
    &.is-open
        opacity: 1
        pointer-events: all
        transform: translateY(0)


.navbar-collapse-block
    padding-top: var(--gap-r)
    padding-bottom: var(--gap-r)
    & + &
        border-top: 1px solid $color-border


.navbar-collapse-link
    color: $color-font-primary
    font-weight: 500
    font-size: var(--size-typo-m)
    line-height: var(--line-height-typo-m)
    padding: var(--gap-s) var(--gap-r)
    display: flex
    flex-direction: row
    // align-items: center
    .navbar-collapse-link-icon
        flex: 0 0 auto
        width: 22px
        margin-right: var(--gap-xs)
        vertical-align: middle
    .navbar-collapse-link-content
        flex: 1 1 100%
        max-width: 100%

    &:hover, &:focus
        color: $color-font-primary
        background: $gray-lighter


.navbar-collapse-profile
    padding: var(--gap-r) var(--gap-r)
    display: flex
    align-items: center

    .navbar-collapse-profile-avatar
        flex: 0 0 auto
        width: auto
        border: 0
        border-radius: 50%
        overflow: hidden
        margin-right: var(--gap-xs)

        & > img
            height: 42px
            width: 42px
            object-fit: cover
