-# - if @products.suggestions.any?
-#   llll

-# .section
-#   .content
-#     - @products.each do |p|
-#       %p #{link_to p.name, show_product_path(p), class: "link"}


%section(class="section")
  %div(class="content")
    
    - if @products.present?
      - if @products.suggestions.any?
        %div(class="section-top")
          %div(class="section-top-title")
            %h1(class="text text-l") 
              Here's what we found for 
              %span(class="text-bold") #{params[:query]}
            %p(class="text text-l text-secondary space-top-m") 
              Did you mean:
              - @products.suggestions.each do |s|
                %a(href="/search?utf8=âœ“&query=#{s}" class="link") #{s}
      %div(class="section-body")
        %div(class="grid-products")
          = render partial: "products/elements/product", collection: @products, cache: true
          -# - @products.each_with_index do |product, index|
          -#   %div(class="col-products")
          -#     = render partial: "products/elements/product", :locals => {:product => product, :index => index}
      %div(class="section-pagination")
        != pagy_nav(@pagy)
    
    
    - else
      %div(class="section-block")
        %h1(class="text text-l text-bold") No results
        %p(class="text text-m text-secondary") We couldn't find anything matching your search. Try searching other keywords.
      
      %div(class="section-block")
        %div(class="section-top section-top-separator")
          %p(class="text text-eyebrow") Featured Products
        %div(class="section-body")
          %div(class="grid-products")
            = render partial: "products/elements/product", collection: @default